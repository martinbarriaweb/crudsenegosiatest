<!DOCTYPE html>
<html ng-app="crudApp">
  <head>
    <meta charset="utf-8" />
    <title>List of Posts</title>

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Comfortaa:300,400,700"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="styles.css" />

    <script src="https://code.angularjs.org/1.6.6/angular.min.js"></script>

    <script src="data.js"></script>
    <script src="app.js"></script>
  </head>
  <body>
    <div ng-controller="appCtrl">
      <div id="post-list" ng-if="currentView === 'listView'">
        <h1 class="title">Posts</h1>
        <div ng-if="posts.length == 0">
          <h2 class="notice">
            Looks like you have not added any posts... Starting adding!
          </h2>
        </div>
        <div ng-if="posts.length > 0">
          <ul ng-repeat="post in posts track by $index">
            <li class="post-box">
              <div class="details">
                <h2>{{post.title}}</h2>
                <p><strong>ID:</strong> {{post.id}}</p>
                <p><strong>Description:</strong> {{post.body}}</p>
                <button
                  class="delete"
                  type="button"
                  ng-click="deletePost($index)"
                >
                  <i class="fa fa-minus-circle" aria-hidden="true"></i> Delete
                  Post
                </button>
                <button
                  class="default"
                  type="button"
                  ng-click="editPost($index)"
                >
                  Edit Post
                </button>
              </div>
            </li>
          </ul>
        </div>
        <button
          class="submit"
          type="submit"
          name="button"
          ng-click="changeView('createView')"
        >
          <i class="fa fa-plus-circle" aria-hidden="true"></i> Add A New Post!
        </button>
      </div>

      <div id="add-post" ng-if="currentView === 'createView'">
        <div class="container">
          <h1 class="title">Add a Post</h1>

          <form method="post">
            <h3>What is your Post's title?</h3>
            <input
              type="text"
              placeholder="Title"
              ng-model="$ctrl.person.title"
            />
            <h3>Â¡Awesome Description title!</h3>
            <input
              type="text"
              placeholder="Description"
              ng-model="$ctrl.person.description"
            />
            <div class="buttons">
              <button
                class="submit"
                type="submit"
                name="button"
                ng-click="addPost($ctrl.person)"
              >
                <i class="fa fa-check-circle" aria-hidden="true"></i> Submit
              </button>
              <button
                class="default"
                type="button"
                name="button"
                ng-click="changeView('listView')"
              >
                <i class="fa fa-times-circle" aria-hidden="true"></i> Cancel
              </button>
            </div>
          </form>
        </div>
      </div>

      <div id="edit-post" ng-if="currentView === 'editView'">
        <div class="container">
          <h1 class="title">Edit Details</h1>

          <form method="post">
            <h3>Title</h3>
            <input
              type="text"
              placeholder="{{edit.title}}"
              ng-model="$ctrl.edit.title"
            />
            <h3>Description</h3>
            <input
              type="text"
              placeholder="{{edit.address}}"
              ng-model="$ctrl.edit.description"
            />
            <div class="buttons">
              <button
                class="submit"
                type="submit"
                name="button"
                ng-click="submitEdit($ctrl.edit, $index)"
              >
                <i class="fa fa-check-circle" aria-hidden="true"></i> Submit
              </button>
              <button
                class="default"
                type="button"
                ng-click="changeView('listView')"
              >
                <i class="fa fa-times-circle" aria-hidden="true"></i> Cancel
              </button>
            </div>
          </form>
        </div>
      </div>

      <div id="delete-post" ng-if="currentView === 'deleteView'">
        <div class="container">
          <h1 class="title">Are you sure?</h1>
          <h2>"It was good while it lasted. I'm going to miss you..."</h2>
          <p class="del-notice">
            Are you sure you want to delete {{delete.name}} from your life?
          </p>
          <div class="buttons">
            <button
              class="submit"
              type="submit"
              name="button"
              ng-click="submitDelete()"
            >
              <i class="fa fa-check-circle" aria-hidden="true"></i> I'm Sure
            </button>
            <button
              class="default"
              type="button"
              ng-click="changeView('listView')"
            >
              <i class="fa fa-times-circle" aria-hidden="true"></i> No, Keep
              {{delete.name}}
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
